import{u as F,r as d,j as e,s as S}from"./index-DZbrHQV2.js";import{U as G}from"./user-k204x7C2.js";import{A as I}from"./alert-circle-NHEH4Kgc.js";import{C as R}from"./check-DVWmfYvT.js";import{S as P}from"./shield-B_wvTgvO.js";import{E as B}from"./eye-off-CXoOaDZE.js";import{E as O}from"./eye-CrXXpMyE.js";import{c as f}from"./createLucideIcon-z6xmPMoH.js";import{S as V}from"./settings-PGtg_T5p.js";import{G as _,M as $}from"./mail-BYAzmLh6.js";import{M as z}from"./map-pin-CY968-U8.js";import{L as Y,G as q}from"./linkedin-CYofFKac.js";import{G as T}from"./globe-skE9hsOa.js";import{M}from"./message-square-Cyhf5Ief.js";import{U as A}from"./users-V6vBBOlt.js";import{C as U}from"./calendar-CwwplEjA.js";import{B as H}from"./book-open-DT0Su6QK.js";import{A as J}from"./award-0-5r5tCl.js";import{U as K}from"./upload-DUjldsa8.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=f("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=f("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=f("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=f("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=f("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=f("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=f("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),D=({currentUsername:t,onUpdate:v,onCancel:h})=>{const{user:l}=F(),[o,y]=d.useState(t),[x,m]=d.useState(!1),[j,n]=d.useState(null),s=a=>a.trim()?a.length<3?"Username must be at least 3 characters long":a.length>20?"Username must be less than 20 characters":/^[a-zA-Z0-9_]+$/.test(a)?a.startsWith("_")||a.endsWith("_")?"Username cannot start or end with underscore":a.includes("__")?"Username cannot contain consecutive underscores":null:"Username can only contain letters, numbers, and underscores":"Username is required",u=async()=>{if(!l)return;const a=s(o);if(a){n(a);return}if(o===t){h();return}m(!0),n(null);try{const{data:c,error:g}=await S.from("profiles").select("id").eq("username",o).neq("user_id",l.id).single();if(g&&g.code!=="PGRST116")throw g;if(c){n("Username is already taken"),m(!1);return}const{error:p}=await S.from("profiles").update({username:o}).eq("user_id",l.id);if(p)throw p;v(o)}catch(c){console.error("Error updating username:",c),n(c instanceof Error?c.message:"Failed to update username")}finally{m(!1)}},r=a=>{a.key==="Enter"?u():a.key==="Escape"&&h()};return e.jsxs("div",{className:"bg-[#161b22] rounded-lg p-4 border border-gray-800",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(G,{className:"w-5 h-5 text-blue-400"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Update Username"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"@"}),e.jsx("input",{type:"text",value:o,onChange:a=>y(a.target.value),onKeyPress:r,placeholder:"Enter username",className:"w-full pl-8 pr-4 py-2.5 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",disabled:x,autoFocus:!0})]})]}),j&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-900/20 border border-red-800 rounded-lg",children:[e.jsx(I,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),e.jsx("p",{className:"text-red-400 text-sm",children:j})]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Username Guidelines:"}),e.jsxs("ul",{className:"text-xs text-gray-400 space-y-1",children:[e.jsx("li",{children:"• 3-20 characters long"}),e.jsx("li",{children:"• Only letters, numbers, and underscores"}),e.jsx("li",{children:"• Cannot start or end with underscore"}),e.jsx("li",{children:"• No consecutive underscores"}),e.jsx("li",{children:"• Must be unique across all users"})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsx("button",{onClick:h,disabled:x,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:x||o===t,className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-600 disabled:cursor-not-allowed text-white rounded-lg transition-colors",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Updating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{children:"Update"})]})})]})]})]})},je=()=>{var C;const{user:t,signOut:v}=F(),[h,l]=d.useState(!1),[o,y]=d.useState("posts"),[x,m]=d.useState(!1),[j,n]=d.useState(!1),[s,u]=d.useState({id:(t==null?void 0:t.id)||"1",name:(t==null?void 0:t.name)||"User",username:(t==null?void 0:t.username)||"user123",email:(t==null?void 0:t.email)||"user@example.com",bio:(t==null?void 0:t.bio)||"Student at Studex",college:(t==null?void 0:t.college)||"Axis Colleges",department:(t==null?void 0:t.branch)||"Computer Science",year:((C=t==null?void 0:t.year)==null?void 0:C.toString())||"2023",location:"India",skills:(t==null?void 0:t.skills)||["Programming","Problem Solving"],profilePhoto:t==null?void 0:t.avatar,coverPhoto:void 0,isVerified:(t==null?void 0:t.isVerified)||!1,isAnonymous:(t==null?void 0:t.isAnonymous)||!1,socialLinks:{linkedin:"",github:"",portfolio:""},privacySettings:{showRealName:!0,showCollegeInfo:!0,allowDirectMessages:!0},stats:{posts:0,followers:0,following:0,studyHours:0}}),r=()=>{const i=[s.name,s.bio,s.college,s.department,s.year,s.skills.length>0,s.profilePhoto,Object.keys(s.socialLinks).some(w=>s.socialLinks[w])],b=i.filter(Boolean).length;return Math.round(b/i.length*100)},a=async()=>{const i=!s.isAnonymous;u(b=>({...b,isAnonymous:i}))},c=(i,b)=>{u(w=>({...w,privacySettings:{...w.privacySettings,[i]:b}}))};if(!t)return null;const g=r(),p=s.isAnonymous?"Anonymous User":s.name,N=s.isAnonymous?void 0:s.profilePhoto;return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Profile"}),s.isVerified&&!s.isAnonymous&&e.jsxs("div",{className:"flex items-center space-x-1 bg-blue-500/20 px-2 py-1 rounded-full",children:[e.jsx(P,{className:"w-4 h-4 text-blue-400"}),e.jsx("span",{className:"text-xs text-blue-300 font-medium",children:"Verified"})]})]}),e.jsxs("button",{onClick:a,className:`flex items-center space-x-2 px-3 py-2 rounded-lg border transition-all duration-200 ${s.isAnonymous?"bg-orange-500/20 border-orange-500/30 text-orange-300 hover:bg-orange-500/30":"bg-gray-800/50 border-gray-700 text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[s.isAnonymous?e.jsx(B,{className:"w-4 h-4"}):e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s.isAnonymous?"Anonymous On":"Anonymous Off"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start space-y-4 sm:space-y-0 sm:space-x-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-2xl sm:text-3xl border-4 border-gray-700",children:N?e.jsx("img",{src:N,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):p.charAt(0).toUpperCase()}),s.isVerified&&!s.isAnonymous&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center border-2 border-[#161b22]",children:e.jsx(P,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-1",children:p}),!s.isAnonymous&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("p",{className:"text-gray-400",children:["@",s.username]}),e.jsx("button",{onClick:()=>n(!0),className:"p-1 text-gray-500 hover:text-blue-400 transition-colors",title:"Edit username",children:e.jsx(E,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3 sm:mt-0",children:[e.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors font-medium",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit Profile"})]}),e.jsx("button",{onClick:()=>m(!x),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(V,{className:"w-5 h-5"})})]})]}),!s.isAnonymous&&s.bio&&e.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:s.bio}),!s.isAnonymous&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsxs("span",{children:[s.department,", ",s.year]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{children:s.college})]}),s.location&&e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:s.location})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:s.email})]})]}),!s.isAnonymous&&Object.values(s.socialLinks).some(Boolean)&&e.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[s.socialLinks.linkedin&&e.jsx("a",{href:s.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-blue-400 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(Y,{className:"w-5 h-5"})}),s.socialLinks.github&&e.jsx("a",{href:s.socialLinks.github,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(q,{className:"w-5 h-5"})}),s.socialLinks.portfolio&&e.jsx("a",{href:s.socialLinks.portfolio,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-400 hover:text-green-400 hover:bg-gray-800 rounded-lg transition-colors",children:e.jsx(T,{className:"w-5 h-5"})})]})]})]}),!s.isAnonymous&&s.skills.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-400 mb-3",children:"Skills & Interests"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((i,b)=>e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-400 text-sm rounded-full border border-blue-500/30",children:i},b))})]})]}),x&&e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Privacy Settings"}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-white",children:"×"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Show real name on posts"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Display your actual name instead of username"})]}),e.jsx("button",{onClick:()=>c("showRealName",!s.privacySettings.showRealName),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.privacySettings.showRealName?"bg-blue-500":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.privacySettings.showRealName?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Show college info publicly"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Make your college and department visible"})]}),e.jsx("button",{onClick:()=>c("showCollegeInfo",!s.privacySettings.showCollegeInfo),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.privacySettings.showCollegeInfo?"bg-blue-500":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.privacySettings.showCollegeInfo?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Allow direct messages"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Let other users send you private messages"})]}),e.jsx("button",{onClick:()=>c("allowDirectMessages",!s.privacySettings.allowDirectMessages),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s.privacySettings.allowDirectMessages?"bg-blue-500":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s.privacySettings.allowDirectMessages?"translate-x-6":"translate-x-1"}`})})]})]})]}),e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800",children:[e.jsx("div",{className:"border-b border-gray-700",children:e.jsx("nav",{className:"flex space-x-1 p-1",children:[{id:"posts",label:"My Posts",icon:M},{id:"groups",label:"Groups",icon:A},{id:"events",label:"Events",icon:U},{id:"activity",label:"Activity",icon:L}].map(i=>{const b=i.icon;return e.jsxs("button",{onClick:()=>y(i.id),className:`flex items-center space-x-2 px-4 py-3 rounded-lg text-sm font-medium transition-colors ${o===i.id?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:i.label})]},i.id)})})}),e.jsxs("div",{className:"p-6",children:[o==="posts"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(M,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-gray-400",children:"Share your first post to get started!"})]}),o==="groups"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No groups joined"}),e.jsx("p",{className:"text-gray-400",children:"Join study groups to collaborate with peers!"})]}),o==="events"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No events"}),e.jsx("p",{className:"text-gray-400",children:"Create or join events to expand your network!"})]}),o==="activity"&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-gray-400",children:"Start engaging with the community!"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-medium text-blue-400",children:[g,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-4",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${g}%`}})}),e.jsx("p",{className:"text-sm text-gray-400",children:"Complete your profile to improve visibility and connect with more students!"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:s.stats.posts}),e.jsx("div",{className:"text-sm text-gray-400",children:"Posts"})]}),e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:s.stats.followers}),e.jsx("div",{className:"text-sm text-gray-400",children:"Followers"})]}),e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:s.stats.following}),e.jsx("div",{className:"text-sm text-gray-400",children:"Following"})]}),e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-white mb-1",children:[s.stats.studyHours,"h"]}),e.jsx("div",{className:"text-sm text-gray-400",children:"Study Time"})]})]}),e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 text-left text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[e.jsx(H,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{children:"View My Notes"}),e.jsx(k,{className:"w-4 h-4 ml-auto"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 text-left text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[e.jsx(J,{className:"w-5 h-5 text-yellow-400"}),e.jsx("span",{children:"Achievements"}),e.jsx(k,{className:"w-4 h-4 ml-auto"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 p-3 text-left text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:[e.jsx(W,{className:"w-5 h-5 text-green-400"}),e.jsx("span",{children:"Analytics"}),e.jsx(k,{className:"w-4 h-4 ml-auto"})]}),e.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-3 p-3 text-left text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{children:"Sign Out"}),e.jsx(k,{className:"w-4 h-4 ml-auto"})]})]})]})]})]}),h&&e.jsx(ee,{profileData:s,setProfileData:u,onClose:()=>l(!1)}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsx(D,{currentUsername:s.username,onUpdate:i=>{u({...s,username:i}),n(!1)},onCancel:()=>n(!1)})})})]})},ee=({profileData:t,setProfileData:v,onClose:h})=>{const[l,o]=d.useState({name:t.name,username:t.username,bio:t.bio,college:t.college,department:t.department,year:t.year,location:t.location||"",skills:t.skills.join(", "),linkedin:t.socialLinks.linkedin||"",github:t.socialLinks.github||"",portfolio:t.socialLinks.portfolio||""}),[y,x]=d.useState(!1),[m,j]=d.useState(null),n=(r,a)=>{o(c=>({...c,[r]:a}))},s=r=>{var c;const a=(c=r.target.files)==null?void 0:c[0];if(a){const g=new FileReader;g.onload=p=>{var N;j((N=p.target)==null?void 0:N.result)},g.readAsDataURL(a)}},u=async()=>{x(!0);try{await new Promise(a=>setTimeout(a,1e3));const r={...t,name:l.name,username:l.username,bio:l.bio,college:l.college,department:l.department,year:l.year,location:l.location,skills:l.skills.split(",").map(a=>a.trim()).filter(Boolean),profilePhoto:m||t.profilePhoto,socialLinks:{linkedin:l.linkedin,github:l.github,portfolio:l.portfolio}};v(r),h()}catch(r){console.error("Failed to update profile:",r)}finally{x(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#161b22] rounded-xl border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Edit Profile"}),e.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:"×"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-xl overflow-hidden",children:m||t.profilePhoto?e.jsx("img",{src:m||t.profilePhoto,alt:"Profile",className:"w-full h-full object-cover"}):t.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("label",{className:"cursor-pointer flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Change Photo"}),e.jsx("input",{type:"file",accept:"image/*",onChange:s,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"JPG, PNG or GIF. Max 5MB."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:l.name,onChange:r=>n("name",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),e.jsx("input",{type:"text",value:l.username,onChange:r=>n("username",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),e.jsx("textarea",{value:l.bio,onChange:r=>n("bio",r.target.value),rows:3,className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none resize-none",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"College"}),e.jsx("input",{type:"text",value:l.college,onChange:r=>n("college",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Department"}),e.jsx("input",{type:"text",value:l.department,onChange:r=>n("department",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Year"}),e.jsxs("select",{value:l.year,onChange:r=>n("year",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",children:[e.jsx("option",{value:"1st Year",children:"1st Year"}),e.jsx("option",{value:"2nd Year",children:"2nd Year"}),e.jsx("option",{value:"3rd Year",children:"3rd Year"}),e.jsx("option",{value:"4th Year",children:"4th Year"}),e.jsx("option",{value:"Graduate",children:"Graduate"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:l.location,onChange:r=>n("location",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"City, State"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Skills (comma-separated)"}),e.jsx("input",{type:"text",value:l.skills,onChange:r=>n("skills",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"JavaScript, Python, React, Machine Learning..."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"Social Links"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"LinkedIn"}),e.jsx("input",{type:"url",value:l.linkedin,onChange:r=>n("linkedin",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"https://linkedin.com/in/yourname"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"GitHub"}),e.jsx("input",{type:"url",value:l.github,onChange:r=>n("github",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"https://github.com/yourname"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Portfolio"}),e.jsx("input",{type:"url",value:l.portfolio,onChange:r=>n("portfolio",r.target.value),className:"w-full px-3 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none",placeholder:"https://yourportfolio.com"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-700",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{onClick:u,disabled:y,className:"flex items-center space-x-2 px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500/50 text-white rounded-lg transition-colors font-medium",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(K,{className:"w-4 h-4"}),e.jsx("span",{children:"Save Changes"})]})})]})]})})};export{je as default};
