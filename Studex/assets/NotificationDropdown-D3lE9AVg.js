import{r as o,j as e}from"./index-DZbrHQV2.js";import{C as y}from"./check-check-CNwuoDs4.js";import{S as j}from"./settings-PGtg_T5p.js";import{C as v}from"./check-DVWmfYvT.js";import{T as b}from"./trash-2-CFmsHsUR.js";import{B as u}from"./bell-BAG1NFvW.js";import{U as k}from"./users-V6vBBOlt.js";import{B as D}from"./briefcase-CX7PtUZE.js";import{B as R}from"./book-open-DT0Su6QK.js";import{A}from"./award-0-5r5tCl.js";import{C as M}from"./calendar-CwwplEjA.js";import{U as S}from"./user-plus-CTC9cubm.js";import{M as U}from"./message-square-Cyhf5Ief.js";import{H as C}from"./heart-B7_opNVQ.js";import"./createLucideIcon-z6xmPMoH.js";const O=({onNotificationCountChange:r})=>{const[a,l]=o.useState([]),[i,h]=o.useState("all");o.useEffect(()=>{const s=[{id:"1",type:"like",title:"New Like",message:'Sarah Chen liked your post about "Study Tips for Finals"',isRead:!1,timestamp:new Date(Date.now()-3e5),senderId:"user1",senderName:"Sarah Chen",senderAvatar:"SC",actionUrl:"/post/123"},{id:"2",type:"comment",title:"New Comment",message:'Mike Johnson commented on your post: "Great tips! Thanks for sharing."',isRead:!1,timestamp:new Date(Date.now()-9e5),senderId:"user2",senderName:"Mike Johnson",senderAvatar:"MJ",actionUrl:"/post/123"},{id:"3",type:"follow",title:"New Follower",message:"Alex Kumar started following you",isRead:!0,timestamp:new Date(Date.now()-36e5),senderId:"user3",senderName:"Alex Kumar",senderAvatar:"AK",actionUrl:"/profile/alex-kumar"},{id:"4",type:"event",title:"Event Reminder",message:"Study Group Meeting starts in 30 minutes",isRead:!1,timestamp:new Date(Date.now()-72e5),actionUrl:"/events/study-group-123"},{id:"5",type:"achievement",title:"Achievement Unlocked",message:`You've earned the "Helpful Contributor" badge!`,isRead:!0,timestamp:new Date(Date.now()-108e5),actionUrl:"/profile/achievements"},{id:"6",type:"study_group",title:"Study Group Invitation",message:`You've been invited to join "Math Study Group"`,isRead:!1,timestamp:new Date(Date.now()-144e5),actionUrl:"/study-groups/math-123"},{id:"7",type:"job",title:"New Job Alert",message:"Software Developer Internship at TechCorp matches your profile",isRead:!0,timestamp:new Date(Date.now()-216e5),actionUrl:"/jobs/techcorp-internship"},{id:"8",type:"mentorship",title:"Mentorship Request",message:'Emma Wilson requested mentorship in "Web Development"',isRead:!1,timestamp:new Date(Date.now()-288e5),senderId:"user4",senderName:"Emma Wilson",senderAvatar:"EW",actionUrl:"/mentorship/requests"}];l(s)},[]),o.useEffect(()=>{const s=a.filter(t=>!t.isRead).length;r==null||r(s)},[a,r]);const p=s=>{switch(s){case"like":return e.jsx(C,{className:"w-4 h-4 text-red-400"});case"comment":return e.jsx(U,{className:"w-4 h-4 text-blue-400"});case"follow":return e.jsx(S,{className:"w-4 h-4 text-green-400"});case"event":return e.jsx(M,{className:"w-4 h-4 text-purple-400"});case"achievement":return e.jsx(A,{className:"w-4 h-4 text-yellow-400"});case"study_group":return e.jsx(R,{className:"w-4 h-4 text-indigo-400"});case"job":return e.jsx(D,{className:"w-4 h-4 text-orange-400"});case"mentorship":return e.jsx(k,{className:"w-4 h-4 text-cyan-400"});default:return e.jsx(u,{className:"w-4 h-4 text-gray-400"})}},f=s=>{const n=Math.floor((new Date().getTime()-s.getTime())/(1e3*60)),m=Math.floor(n/60),x=Math.floor(m/24);return n<1?"Just now":n<60?`${n}m ago`:m<24?`${m}h ago`:x<7?`${x}d ago`:s.toLocaleDateString()},w=s=>{l(a.map(t=>t.id===s?{...t,isRead:!0}:t))},g=()=>{l(a.map(s=>({...s,isRead:!0})))},N=s=>{l(a.filter(t=>t.id!==s))},d=a.filter(s=>i==="all"?!0:i==="unread"?!s.isRead:s.type===i),c=a.filter(s=>!s.isRead).length;return e.jsxs("div",{className:"bg-[#161b22] rounded-lg",children:[e.jsxs("div",{className:"p-4 border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:g,className:"p-1 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",title:"Mark all as read",children:e.jsx(y,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-white hover:bg-gray-800 rounded transition-colors",children:e.jsx(j,{className:"w-4 h-4"})})]}),c>0&&e.jsxs("span",{className:"bg-red-500 text-white text-xs rounded-full px-2 py-1",children:[c," unread"]})]}),e.jsx("div",{className:"flex items-center space-x-1 bg-[#0d1117] p-1 rounded-lg",children:[{key:"all",label:"All"},{key:"unread",label:"Unread"},{key:"likes",label:"Likes"},{key:"comments",label:"Comments"},{key:"events",label:"Events"}].map(s=>e.jsx("button",{onClick:()=>h(s.key),className:`px-2 py-1 text-xs rounded-md transition-all ${i===s.key?"bg-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:s.label},s.key))})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:d.length>0?e.jsx("div",{className:"divide-y divide-gray-800",children:(d||[]).slice(0,10).map(s=>e.jsx("div",{className:`p-4 hover:bg-[#0d1117] transition-colors ${s.isRead?"":"bg-blue-500/5 border-l-2 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:p(s.type)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-white",children:s.title}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:s.message}),s.senderName&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-medium",children:s.senderAvatar}),e.jsx("span",{className:"text-xs text-gray-400",children:s.senderName})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:f(s.timestamp)}),!s.isRead&&e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!s.isRead&&e.jsx("button",{onClick:()=>w(s.id),className:"p-1 text-gray-400 hover:text-white transition-colors",title:"Mark as read",children:e.jsx(v,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>N(s.id),className:"p-1 text-gray-400 hover:text-red-400 transition-colors",title:"Delete",children:e.jsx(b,{className:"w-3 h-3"})})]})]})})]})},s.id))}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(u,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No notifications"}),e.jsx("p",{className:"text-gray-400",children:"You're all caught up!"})]})})]})};export{O as default};
