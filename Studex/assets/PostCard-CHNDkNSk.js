import{r as i,j as e}from"./index-DZbrHQV2.js";import{S as C}from"./shield-B_wvTgvO.js";import{C as M}from"./clock-Dr9If8uH.js";import{c as a}from"./createLucideIcon-z6xmPMoH.js";import{D as b}from"./download-A3thcRoc.js";import{H as A}from"./heart-B7_opNVQ.js";import{M as S}from"./message-square-Cyhf5Ief.js";import{E as T}from"./eye-CrXXpMyE.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=a("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=a("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=a("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=a("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=a("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=a("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=a("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),Z=({post:s,onLike:l,onUnlike:c})=>{var y;const[m,o]=i.useState(!1),[h,j]=i.useState(!1),[d,w]=i.useState(!1),[r,u]=i.useState(""),p=t=>{const n=Math.floor((new Date().getTime()-t.getTime())/(1e3*60)),x=Math.floor(n/60),g=Math.floor(x/24);return n<1?"Just now":n<60?`${n}m ago`:x<24?`${x}h ago`:g<7?`${g}d ago`:t.toLocaleDateString()},N=()=>{m?(o(!1),c==null||c(s.id)):(o(!0),l==null||l(s.id))},v=async()=>{if(navigator.share)try{await navigator.share({title:`Post by ${s.author.name}`,text:s.content,url:window.location.href})}catch(t){console.log("Error sharing:",t)}else navigator.clipboard.writeText(`${s.content}

- ${s.author.name}`)},k=()=>{r.trim()&&(console.log("Adding comment:",r),u(""))};return e.jsxs("div",{className:"bg-[#161b22] rounded-lg border border-gray-800 hover:border-gray-700 transition-all duration-200 group",children:[e.jsx("div",{className:"p-4 sm:p-6 pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex items-start space-x-3 sm:space-x-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-medium text-base sm:text-lg shrink-0",children:s.isAnonymous?"?":s.author.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-x-2 gap-y-1 mb-2",children:[e.jsx("span",{className:"font-semibold text-white text-sm sm:text-base",children:s.isAnonymous?"Anonymous":s.author.name}),s.author.isVerified&&e.jsx(C,{className:"w-3 h-3 sm:w-4 sm:h-4 text-blue-400 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 hidden sm:inline",children:"•"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 truncate",children:s.author.college}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 hidden sm:inline",children:"•"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(M,{className:"w-3 h-3 text-gray-500 shrink-0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500",children:p(s.createdAt)})]})]}),e.jsx("p",{className:"text-gray-300 leading-relaxed whitespace-pre-wrap text-sm sm:text-base",children:s.content}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:s.tags.map((t,f)=>e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 text-xs rounded-full",children:t},f))})]}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("button",{onClick:()=>w(!d),className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors opacity-0 group-hover:opacity-100 sm:opacity-100 touch-manipulation",children:e.jsx($,{className:"w-4 h-4"})}),d&&e.jsxs("div",{className:"absolute right-0 top-10 bg-[#0d1117] border border-gray-700 rounded-lg shadow-lg z-10 min-w-[160px]",children:[e.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-gray-800 hover:text-white transition-colors flex items-center space-x-2 touch-manipulation",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-gray-800 hover:text-white transition-colors flex items-center space-x-2 touch-manipulation",children:[e.jsx(D,{className:"w-4 h-4"}),e.jsx("span",{children:"Copy Link"})]}),e.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-300 hover:bg-gray-800 hover:text-white transition-colors flex items-center space-x-2 touch-manipulation",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Report"})]})]})]})]})}),s.fileUrl&&e.jsx("div",{className:"px-4 sm:px-6 pb-3 sm:pb-4",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 sm:p-4 bg-[#0d1117] rounded-lg border border-gray-700",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-500/20 rounded-lg flex items-center justify-center shrink-0",children:e.jsx(b,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs sm:text-sm text-white font-medium truncate",children:s.fileName}),e.jsx("p",{className:"text-xs text-gray-500",children:s.fileType})]}),e.jsxs("button",{className:"text-blue-400 hover:text-blue-300 text-xs sm:text-sm font-medium transition-colors flex items-center space-x-1 shrink-0 touch-manipulation",children:[e.jsx(b,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Download"})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-6",children:[e.jsxs("button",{onClick:N,className:`flex items-center space-x-1 sm:space-x-2 transition-colors touch-manipulation ${m?"text-red-400":"text-gray-400 hover:text-red-400"}`,children:[e.jsx(A,{className:`w-4 h-4 sm:w-5 sm:h-5 ${m?"fill-current":""}`}),e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:s.likes||0})]}),e.jsxs("button",{onClick:()=>j(!h),className:"flex items-center space-x-1 sm:space-x-2 text-gray-400 hover:text-blue-400 transition-colors touch-manipulation",children:[e.jsx(S,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:((y=s.comments)==null?void 0:y.length)||0})]}),e.jsxs("button",{onClick:v,className:"flex items-center space-x-1 sm:space-x-2 text-gray-400 hover:text-green-400 transition-colors touch-manipulation",children:[e.jsx(V,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"Share"})]}),e.jsxs("button",{className:"flex items-center space-x-1 sm:space-x-2 text-gray-400 hover:text-purple-400 transition-colors touch-manipulation",children:[e.jsx(T,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium hidden sm:inline",children:"View"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-400 transition-colors touch-manipulation",children:e.jsx(E,{className:"w-3 h-3 sm:w-4 sm:h-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-300 transition-colors touch-manipulation",children:e.jsx(q,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})}),h&&e.jsxs("div",{className:"px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-800 bg-[#0d1117]",children:[e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3 mb-4",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-medium shrink-0",children:"U"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("textarea",{value:r,onChange:t=>u(t.target.value),placeholder:"Write a comment...",className:"w-full p-2 sm:p-3 bg-[#161b22] border border-gray-700 rounded-lg text-white placeholder-gray-500 resize-none focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none text-sm sm:text-base",rows:2}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"text-xs text-gray-500 hover:text-white transition-colors touch-manipulation",children:"Anonymous"})}),e.jsx("button",{onClick:k,disabled:!r.trim(),className:"px-3 sm:px-4 py-1 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-500/50 text-white text-xs sm:text-sm rounded-lg transition-colors touch-manipulation",children:"Comment"})]})]})]}),e.jsx("div",{className:"space-y-3",children:s.comments&&s.comments.length>0?s.comments.map(t=>e.jsxs("div",{className:"flex items-start space-x-2 sm:space-x-3",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-medium shrink-0",children:t.isAnonymous?"?":t.author.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-white",children:t.isAnonymous?"Anonymous":t.author.name}),e.jsx("span",{className:"text-xs text-gray-500",children:p(t.createdAt)})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:t.content})]})]},t.id)):e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 text-center py-4",children:"No comments yet. Be the first to comment!"})})]})]})};export{Z as default};
