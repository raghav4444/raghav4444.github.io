import{u as $,r as d,s as w,j as e}from"./index-DZbrHQV2.js";import{X as P}from"./x-DHTgq_OJ.js";import{A as J}from"./alert-circle-NHEH4Kgc.js";import{C}from"./calendar-CwwplEjA.js";import{C as B}from"./clock-Dr9If8uH.js";import{M as A}from"./map-pin-CY968-U8.js";import{G}from"./globe-skE9hsOa.js";import{c as W}from"./createLucideIcon-z6xmPMoH.js";import{U}from"./users-V6vBBOlt.js";import{H as se}from"./hash-B3BkQQPW.js";import{T as re,U as ae,S as ne}from"./user-minus-BBI21678.js";import{B as ie}from"./bell-BAG1NFvW.js";import{P as le}from"./plus-CsL2Ha1A.js";import{S as oe}from"./settings-PGtg_T5p.js";import{S as ce}from"./search-DGLrhYib.js";import{F as de}from"./filter-DFCWfKRP.js";import{U as me}from"./user-plus-CTC9cubm.js";import{T as xe}from"./trash-2-CFmsHsUR.js";import{V as ue}from"./video-C7K7o1Ih.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=W("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),H=()=>{const{user:l}=$(),[u,h]=d.useState([]),[s,x]=d.useState(!0),[v,j]=d.useState(null),E=[{id:"1",title:"AI/ML Study Group - Weekly Meetup",description:"Join us for our weekly AI/ML study session. This week we're covering neural networks and deep learning fundamentals.",date:new Date(Date.now()+2*24*60*60*1e3),location:"MIT Library, Room 302",organizer:{id:"1",name:"Sarah Chen",email:"sarah@mit.edu",college:"MIT",branch:"Computer Science",year:3,isVerified:!0,isAnonymous:!1,joinedAt:new Date,lastActive:new Date},attendees:["1","2","3","4","5"],maxAttendees:20,tags:["AI","Machine Learning","Study Group"],isOnline:!1},{id:"2",title:"Virtual Career Fair - Tech Companies",description:"Connect with recruiters from top tech companies. Bring your resume and be ready for on-the-spot interviews!",date:new Date(Date.now()+5*24*60*60*1e3),location:"Online Event",organizer:{id:"2",name:"Career Services",email:"careers@stanford.edu",college:"Stanford University",branch:"Career Services",year:0,isVerified:!0,isAnonymous:!1,joinedAt:new Date,lastActive:new Date},attendees:["1","2","3"],maxAttendees:100,tags:["Career","Tech","Networking"],isOnline:!0,meetingLink:"https://meet.google.com/abc-def-ghi"},{id:"3",title:"Physics Problem Solving Workshop",description:"Struggling with quantum mechanics? Join our interactive workshop where seniors will help solve complex physics problems.",date:new Date(Date.now()+7*24*60*60*1e3),location:"Caltech Physics Building",organizer:{id:"3",name:"Alex Rodriguez",email:"alex@caltech.edu",college:"Caltech",branch:"Physics",year:4,isVerified:!0,isAnonymous:!1,joinedAt:new Date,lastActive:new Date},attendees:["1","2"],maxAttendees:15,tags:["Physics","Workshop","Problem Solving"],isOnline:!1}],g=d.useCallback(async()=>{if(l)try{x(!0),j(null);const{data:a,error:r}=await w.from("events").select(`
          *,
          profiles!events_organizer_fkey (
            id,
            name,
            email,
            college,
            branch,
            year,
            is_verified,
            avatar_url
          ),
          event_attendees (
            user_id
          )
        `).order("date",{ascending:!0});if(r){console.warn("Database not available, using mock data:",r.message),h(E);return}const m=(a==null?void 0:a.map(n=>{var y;return{id:n.id,title:n.title,description:n.description,date:new Date(n.date),location:n.location,organizer:{id:n.profiles.id,name:n.profiles.name,email:n.profiles.email,college:n.profiles.college,branch:n.profiles.branch,year:n.profiles.year,isVerified:n.profiles.is_verified,isAnonymous:!1,avatar:n.profiles.avatar_url,joinedAt:new Date,lastActive:new Date},attendees:((y=n.event_attendees)==null?void 0:y.map(T=>T.user_id))||[],maxAttendees:n.max_attendees,tags:n.tags||[],isOnline:n.is_online,meetingLink:n.meeting_link}}))||[];h(m)}catch(a){console.warn("Error fetching events, using mock data:",a),h(E)}finally{x(!1)}},[l]);return d.useEffect(()=>{g()},[g]),{events:u,loading:s,error:v,createEvent:async a=>{if(!l)throw new Error("User not authenticated");try{const{data:r,error:m}=await w.from("events").insert({title:a.title,description:a.description,date:a.date.toISOString(),location:a.location,max_attendees:a.maxAttendees,tags:a.tags,is_online:a.isOnline,meeting_link:a.meetingLink,organizer:l.id}).select().single();if(m){console.warn("Database not available, using mock data for creation");const n={id:Date.now().toString(),title:a.title,description:a.description,date:a.date,location:a.location,maxAttendees:a.maxAttendees||20,tags:a.tags,isOnline:a.isOnline,meetingLink:a.meetingLink,attendees:[l.id],organizer:{id:l.id,name:l.name||"You",email:l.email||"",college:l.college||"",branch:l.branch||"",year:l.year||1,isVerified:l.isVerified||!1,isAnonymous:!1,joinedAt:new Date,lastActive:new Date}};return h(y=>[n,...y]),n}return await w.from("event_attendees").insert({event_id:r.id,user_id:l.id}),await g(),r}catch(r){throw console.error("Error creating event:",r),r}},joinEvent:async a=>{if(!l)throw new Error("User not authenticated");try{const{error:r}=await w.from("event_attendees").insert({event_id:a,user_id:l.id});if(r){console.warn("Database not available, using mock data for join"),h(m=>m.map(n=>n.id===a&&!n.attendees.includes(l.id)?{...n,attendees:[...n.attendees,l.id]}:n));return}await g()}catch(r){throw console.error("Error joining event:",r),r}},leaveEvent:async a=>{if(!l)throw new Error("User not authenticated");try{const{error:r}=await w.from("event_attendees").delete().eq("event_id",a).eq("user_id",l.id);if(r){console.warn("Database not available, using mock data for leave"),h(m=>m.map(n=>n.id===a?{...n,attendees:n.attendees.filter(y=>y!==l.id)}:n));return}await g()}catch(r){throw console.error("Error leaving event:",r),r}},updateEvent:async(a,r)=>{var m;if(!l)throw new Error("User not authenticated");try{const{error:n}=await w.from("events").update({title:r.title,description:r.description,date:(m=r.date)==null?void 0:m.toISOString(),location:r.location,max_attendees:r.maxAttendees,tags:r.tags,is_online:r.isOnline,meeting_link:r.meetingLink}).eq("id",a).eq("organizer",l.id);if(n)throw n;await g()}catch(n){throw console.error("Error updating event:",n),n}},deleteEvent:async a=>{if(!l)throw new Error("User not authenticated");try{await w.from("event_attendees").delete().eq("event_id",a);const{error:r}=await w.from("events").delete().eq("id",a).eq("organizer",l.id);if(r)throw r;await g()}catch(r){throw console.error("Error deleting event:",r),r}},isUserAttending:a=>{if(!l)return!1;const r=u.find(m=>m.id===a);return(r==null?void 0:r.attendees.includes(l.id))||!1},isUserOrganizer:a=>{if(!l)return!1;const r=u.find(m=>m.id===a);return(r==null?void 0:r.organizer.id)===l.id},getUpcomingEvents:()=>{const a=new Date;return u.filter(r=>r.date>a)},getPastEvents:()=>{const a=new Date;return u.filter(r=>r.date<=a)},refetch:g}},pe=({isOpen:l,onClose:u})=>{const{createEvent:h}=H(),[s,x]=d.useState({title:"",description:"",date:"",time:"",location:"",maxAttendees:20,isOnline:!1,meetingLink:"",tags:[]}),[v,j]=d.useState(""),[E,g]=d.useState(!1),[O,p]=d.useState(null),_=async i=>{if(i.preventDefault(),!s.title.trim()||!s.description.trim()||!s.date||!s.time||!s.location.trim()){p("Please fill in all required fields");return}if(s.isOnline&&!s.meetingLink.trim()){p("Please provide a meeting link for online events");return}const o=new Date(`${s.date}T${s.time}`);if(o<=new Date){p("Event date must be in the future");return}g(!0),p(null);try{await h({title:s.title.trim(),description:s.description.trim(),date:o,location:s.location.trim(),maxAttendees:s.maxAttendees,tags:s.tags,isOnline:s.isOnline,meetingLink:s.isOnline?s.meetingLink.trim():void 0}),x({title:"",description:"",date:"",time:"",location:"",maxAttendees:20,isOnline:!1,meetingLink:"",tags:[]}),j(""),u()}catch(a){p(a instanceof Error?a.message:"Failed to create event")}finally{g(!1)}},k=()=>{const i=v.trim();i&&!s.tags.includes(i)&&s.tags.length<5&&(x(o=>({...o,tags:[...o.tags,i]})),j(""))},N=i=>{x(o=>({...o,tags:o.tags.filter(a=>a!==i)}))},L=i=>{i.key==="Enter"&&(i.preventDefault(),k())},S=new Date().toISOString().split("T")[0];return l?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-[#161b22] rounded-lg border border-gray-800 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Event"}),e.jsx("button",{onClick:u,className:"p-2 text-gray-400 hover:text-white transition-colors",children:e.jsx(P,{className:"w-5 h-5"})})]}),O&&e.jsxs("div",{className:"mb-6 p-4 bg-red-500/20 border border-red-500/30 rounded-lg flex items-center space-x-2",children:[e.jsx(J,{className:"w-5 h-5 text-red-400"}),e.jsx("p",{className:"text-red-400",children:O})]}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Event Title *"}),e.jsx("input",{type:"text",value:s.title,onChange:i=>x(o=>({...o,title:i.target.value})),placeholder:"Enter event title...",className:"w-full px-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all",maxLength:100}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.title.length,"/100 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Description *"}),e.jsx("textarea",{value:s.description,onChange:i=>x(o=>({...o,description:i.target.value})),placeholder:"Describe your event...",rows:4,className:"w-full px-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all resize-none",maxLength:500}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.description.length,"/500 characters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:s.date,onChange:i=>x(o=>({...o,date:i.target.value})),min:S,className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Time *"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"time",value:s.time,onChange:i=>x(o=>({...o,time:i.target.value})),className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-3",children:"Event Type"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"eventType",checked:!s.isOnline,onChange:()=>x(i=>({...i,isOnline:!1,meetingLink:""})),className:"w-4 h-4 text-blue-500 bg-[#0d1117] border-gray-700 focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-4 h-4 text-purple-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"In-Person Event"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Physical location required"})]})]})]}),e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"eventType",checked:s.isOnline,onChange:()=>x(i=>({...i,isOnline:!0})),className:"w-4 h-4 text-blue-500 bg-[#0d1117] border-gray-700 focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{className:"w-4 h-4 text-green-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"Online Event"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Virtual meeting link required"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:s.isOnline?"Meeting Link *":"Location *"}),e.jsxs("div",{className:"relative",children:[s.isOnline?e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}):e.jsx(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:s.isOnline?"url":"text",value:s.location,onChange:i=>x(o=>({...o,location:i.target.value})),placeholder:s.isOnline?"https://meet.google.com/...":"Enter location...",className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Maximum Attendees"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"number",value:s.maxAttendees,onChange:i=>x(o=>({...o,maxAttendees:Math.max(1,Math.min(1e3,parseInt(i.target.value)||20))})),min:"1",max:"1000",className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Between 1 and 1000 attendees"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Tags (Optional)"}),e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",value:v,onChange:i=>j(i.target.value),onKeyPress:L,placeholder:"Add a tag...",className:"w-full pl-10 pr-4 py-2 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all",maxLength:20})]}),e.jsx("button",{type:"button",onClick:k,disabled:!v.trim()||s.tags.length>=5,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg transition-colors",children:"Add"})]}),s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((i,o)=>e.jsxs("span",{className:"flex items-center space-x-1 bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm",children:[e.jsx(re,{className:"w-3 h-3"}),e.jsx("span",{children:i}),e.jsx("button",{type:"button",onClick:()=>N(i),className:"ml-1 text-blue-400 hover:text-blue-300",children:e.jsx(P,{className:"w-3 h-3"})})]},o))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Up to 5 tags, 20 characters each"})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-gray-800",children:[e.jsx("button",{type:"button",onClick:u,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:E||!s.title.trim()||!s.description.trim()||!s.date||!s.time||!s.location.trim(),className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-700 disabled:text-gray-500 text-white rounded-lg transition-colors flex items-center space-x-2",children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Creating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Event"})]})})]})]})]})})}):null},Ve=()=>{const{user:l}=$(),[u,h]=d.useState(""),[s,x]=d.useState("all"),[v,j]=d.useState(!1),[E,g]=d.useState(!1),[O,p]=d.useState(null),[_,k]=d.useState(!1),[N,L]=d.useState("upcoming"),[S,i]=d.useState(!1),[o,a]=d.useState(5),[r,m]=d.useState("grid"),{events:n,loading:y,error:T,createEvent:be,joinEvent:R,leaveEvent:K,updateEvent:fe,deleteEvent:Y,isUserAttending:D,isUserOrganizer:z,getUpcomingEvents:je,getPastEvents:ye,refetch:X}=H(),[Q]=d.useState([{id:"1",type:"event_reminder",message:"AI/ML Study Group starts in 1 hour",time:"1h ago"},{id:"2",type:"new_attendee",message:"Sarah Chen joined your Physics Workshop",time:"2h ago"},{id:"3",type:"event_update",message:"Career Fair location changed to online",time:"4h ago"},{id:"4",type:"event_cancelled",message:"Math Study Session has been cancelled",time:"6h ago"},{id:"5",type:"new_event",message:"New event: Web Dev Bootcamp",time:"1d ago"}]),M=n.filter(t=>{const c=t.title.toLowerCase().includes(u.toLowerCase())||t.description.toLowerCase().includes(u.toLowerCase())||t.tags.some(te=>te.toLowerCase().includes(u.toLowerCase())),b=s==="all"||s==="online"&&t.isOnline||s==="offline"&&!t.isOnline||s==="my-college"&&t.organizer.college===(l==null?void 0:l.college);let f=!0;return N==="upcoming"?f=t.date>new Date:N==="past"?f=t.date<=new Date:N==="my-events"&&(f=z(t.id)||D(t.id)),c&&b&&f}),I=t=>t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=t=>{const b=Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60));return b<1?"Just now":b<24?`${b}h ago`:`${Math.floor(b/24)}d ago`},q=async t=>{try{await R(t),a(c=>c+1)}catch(c){console.error("Error joining event:",c)}},V=async t=>{try{await K(t)}catch(c){console.error("Error leaving event:",c)}},ee=async t=>{if(window.confirm("Are you sure you want to delete this event?"))try{await Y(t)}catch(c){console.error("Error deleting event:",c)}},F=t=>{const c=new Date,b=new Date(t.date),f=Math.floor((b.getTime()-c.getTime())/(1e3*60*60));return f<0?{status:"past",color:"text-gray-500",bg:"bg-gray-500/20"}:f<1?{status:"starting",color:"text-red-400",bg:"bg-red-500/20"}:f<24?{status:"today",color:"text-orange-400",bg:"bg-orange-500/20"}:{status:"upcoming",color:"text-green-400",bg:"bg-green-500/20"}};return y?e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg animate-pulse mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading events..."})]})}):T?e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(J,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Error loading events"}),e.jsx("p",{className:"text-gray-400 mb-4",children:T}),e.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Try Again"})]})}):e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Campus Events"}),e.jsx("p",{className:"text-gray-400",children:"Discover and join events happening in your college and beyond"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!S),className:"relative p-2 bg-[#161b22] rounded-lg border border-gray-800 hover:border-gray-700 transition-colors",children:[e.jsx(ie,{className:"w-5 h-5 text-gray-400"}),o>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium",children:o>9?"9+":o})]}),S&&e.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-[#161b22] border border-gray-800 rounded-lg shadow-xl z-50 max-h-96 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Event Notifications"}),e.jsx("button",{onClick:()=>i(!1),className:"p-1 text-gray-400 hover:text-white transition-colors",children:e.jsx(P,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:Q.map(t=>e.jsxs("div",{className:"p-4 border-b border-gray-800 hover:bg-[#0d1117] transition-colors",children:[e.jsx("p",{className:"text-sm text-white",children:t.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:t.time})]},t.id))})]})]}),e.jsxs("div",{className:"flex items-center bg-[#161b22] rounded-lg border border-gray-800 p-1",children:[e.jsx("button",{onClick:()=>m("grid"),className:`p-2 rounded transition-colors ${r==="grid"?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:e.jsxs("div",{className:"w-4 h-4 grid grid-cols-2 gap-0.5",children:[e.jsx("div",{className:"bg-current rounded-sm"}),e.jsx("div",{className:"bg-current rounded-sm"}),e.jsx("div",{className:"bg-current rounded-sm"}),e.jsx("div",{className:"bg-current rounded-sm"})]})}),e.jsx("button",{onClick:()=>m("list"),className:`p-2 rounded transition-colors ${r==="list"?"bg-blue-500 text-white":"text-gray-400 hover:text-white"}`,children:e.jsxs("div",{className:"w-4 h-4 flex flex-col gap-0.5",children:[e.jsx("div",{className:"bg-current rounded-sm h-1"}),e.jsx("div",{className:"bg-current rounded-sm h-1"}),e.jsx("div",{className:"bg-current rounded-sm h-1"})]})})]}),e.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all duration-200",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Event"})]})]})]}),e.jsx("div",{className:"bg-[#161b22] rounded-lg border border-gray-800 mb-6",children:e.jsx("div",{className:"flex items-center space-x-1 p-1",children:[{key:"upcoming",label:"Upcoming",icon:C},{key:"past",label:"Past Events",icon:B},{key:"my-events",label:"My Events",icon:oe}].map(t=>{const c=t.icon;return e.jsxs("button",{onClick:()=>L(t.key),className:`flex items-center space-x-2 px-4 py-3 rounded-md transition-all duration-200 ${N===t.key?"bg-blue-500 text-white":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[e.jsx(c,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:t.label})]},t.key)})})}),e.jsx("div",{className:"bg-[#161b22] rounded-lg p-6 border border-gray-800 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:u,onChange:t=>h(t.target.value),placeholder:"Search events...",className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsxs("select",{value:s,onChange:t=>x(t.target.value),className:"w-full pl-10 pr-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none transition-all appearance-none",children:[e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"my-college",children:"My College"}),e.jsx("option",{value:"online",children:"Online Events"}),e.jsx("option",{value:"offline",children:"In-Person Events"})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-3 bg-[#0d1117] border border-gray-700 rounded-lg text-gray-400 hover:text-white hover:border-gray-600 transition-colors",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Trending"})]})})]})}),r==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(t=>{const c=F(t);return e.jsx("div",{className:"bg-[#161b22] rounded-lg border border-gray-800 hover:border-gray-700 transition-all duration-200 group",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.slice(0,2).map((b,f)=>e.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded-full",children:b},f))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.isOnline?e.jsxs("span",{className:"text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(G,{className:"w-3 h-3"}),e.jsx("span",{children:"Online"})]}):e.jsxs("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full flex items-center space-x-1",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsx("span",{children:"In-Person"})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.bg} ${c.color}`,children:c.status})]})]}),e.jsx("h3",{className:"text-lg font-semibold text-white mb-3 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(C,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-300",children:I(t.date)})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(A,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-gray-300",children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(U,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-300",children:[t.attendees.length,"/",t.maxAttendees||"∞"," attending"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:t.organizer.name.charAt(0)}),e.jsx("span",{className:"text-sm text-gray-400",children:t.organizer.name})]}),e.jsx("span",{className:"text-xs text-gray-500",children:Z(t.date)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[D(t.id)?e.jsxs("button",{onClick:()=>V(t.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-sm rounded-lg transition-all duration-200",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Leave"})]}):e.jsxs("button",{onClick:()=>q(t.id),className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-all duration-200",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Event"})]}),e.jsx("button",{onClick:()=>{p(t),k(!0)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded-lg transition-all duration-200",children:"View"})]}),z(t.id)&&e.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t border-gray-800",children:[e.jsxs("button",{onClick:()=>{p(t),g(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 text-xs rounded transition-colors",children:[e.jsx(ne,{className:"w-3 h-3"}),e.jsx("span",{children:"Edit"})]}),e.jsxs("button",{onClick:()=>ee(t.id),className:"flex items-center space-x-1 px-3 py-1 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-xs rounded transition-colors",children:[e.jsx(xe,{className:"w-3 h-3"}),e.jsx("span",{children:"Delete"})]})]}),t.isOnline&&t.meetingLink&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-800",children:e.jsxs("button",{className:"w-full flex items-center justify-center space-x-2 px-4 py-2 bg-green-500/20 hover:bg-green-500/30 text-green-400 text-sm rounded-lg transition-all duration-200",children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{children:"Join Meeting"})]})})]})},t.id)})}):e.jsx("div",{className:"space-y-4",children:M.map(t=>{const c=F(t);return e.jsx("div",{className:"bg-[#161b22] rounded-lg border border-gray-800 hover:border-gray-700 transition-all duration-200",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:t.title}),t.isOnline?e.jsx("span",{className:"text-xs bg-green-500/20 text-green-300 px-2 py-1 rounded-full",children:"Online"}):e.jsx("span",{className:"text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded-full",children:"In-Person"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${c.bg} ${c.color}`,children:c.status})]}),e.jsx("p",{className:"text-gray-400 text-sm mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:I(t.date)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.attendees.length,"/",t.maxAttendees||"∞"," attending"]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:t.organizer.name.charAt(0)}),e.jsx("span",{className:"text-sm text-gray-400",children:t.organizer.name})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[D(t.id)?e.jsx("button",{onClick:()=>V(t.id),className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 text-sm rounded-lg transition-all duration-200",children:"Leave"}):e.jsx("button",{onClick:()=>q(t.id),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-all duration-200",children:"Join"}),e.jsx("button",{onClick:()=>{p(t),k(!0)},className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white text-sm rounded-lg transition-all duration-200",children:"View"})]})]})]})})},t.id)})}),M.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{className:"w-8 h-8 text-gray-500"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No events found"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Try adjusting your search or create a new event"}),e.jsx("button",{onClick:()=>j(!0),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Create Your First Event"})]}),e.jsx(pe,{isOpen:v,onClose:()=>j(!1)})]})};export{Ve as default};
